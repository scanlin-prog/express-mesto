{"version":3,"sources":["context/CurrentUserContext.js","utils/Api.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","serviceWorker.js","index.js","images/Mesto.svg"],"names":["CurrentUserContext","React","createContext","api","options","this","_baseurl","baseUrl","_headers","headers","response","ok","json","console","log","Promise","reject","statusText","fetch","then","_handleResponse","data","method","body","JSON","stringify","id","like","link","avatar","authorization","Header","className","src","logo","alt","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","name","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","key","Footer","PopupWithForm","isOpen","onSubmit","noValidate","title","children","titleButton","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","inputNameRef","inputLinkRef","ImagePopup","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfileData","result","catch","err","getCardsData","Provider","dataCard","toggleLikeCard","newCard","newCards","c","deleteCard","filter","sendProfileData","sendCardData","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.6391070c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","\r\nclass Api {\r\n    constructor(options) {\r\n        this._baseurl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _handleResponse(response) {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            console.log('_handleResponse rejection')\r\n            return Promise.reject(response.statusText)\r\n        }\r\n    }\r\n\r\n    getProfileData() {\r\n        return fetch(`${this._baseurl}/users/me`, { headers: this._headers })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    sendProfileData(data) {\r\n        return fetch(`${this._baseurl}/users/me`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    getCardsData() {\r\n        return fetch(`${this._baseurl}/cards`, { headers: this._headers })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    sendCardData(data) {\r\n        return fetch(`${this._baseurl}/cards`, {\r\n            headers: this._headers,\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    toggleLikeCard(id, like) {\r\n        return fetch(`${this._baseurl}/cards/likes/${id}`, {\r\n            headers: this._headers,\r\n            method: like ? 'PUT' : 'DELETE'\r\n        })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._baseurl}/cards/${id}`, {\r\n            headers: this._headers,\r\n            method: 'DELETE'\r\n        })\r\n            .then(this._handleResponse)\r\n    }\r\n\r\n    changeAvatar({link}) {\r\n        return fetch(`${this._baseurl}/users/me/avatar`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n            .then(this._handleResponse)\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    headers: {\r\n      authorization: '66ad8adf-40e8-490a-9692-6e1f4ed571f6',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })\r\n","import React from 'react';\r\nimport logo from '../images/Mesto.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <img className=\"header__logo\" src={logo} alt=\"Место\" />\r\n            </header>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext)\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardRemoveButtonClassName = (\r\n        `place__button-remove ${isOwn ? 'place__button-remove_active' : ''}`\r\n    )\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `place__button-like ${isLiked ? 'place__button-like_active' : ''}`\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"place\">\r\n            <img className=\"place__image\" src={props.card.link} onClick={handleClick} alt=\"Изображение\" />\r\n            <h3 className=\"place__title\">{props.card.name}</h3>\r\n            <div className=\"place__field-like\">\r\n                <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                <p className=\"place__button-like-number\">{props.card.likes.length}</p>\r\n            </div>\r\n            <button className={cardRemoveButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Лицо\" />\r\n                <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__info-heading\">\r\n                        <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n                        <button className=\"profile__button-edit\" onClick={props.onEditProfile} type=\"button\"></button>\r\n                    </div>\r\n                    <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__button-add\" onClick={props.onAddPlace} type=\"button\"></button>\r\n            </section>\r\n            <section className=\"places\">\r\n                {\r\n                    props.cards.map((card) => {\r\n                        \r\n                        return (\r\n                            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n                        )\r\n                    })\r\n                }\r\n            </section>\r\n        </main>\r\n    )\r\n\r\n    \r\n}\r\n\r\nexport default Main\r\n\r\n\r\n  ","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020. Иван Ротарь</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return(\r\n        <div className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`} id={`popup-${props.name}`}>\r\n            <form className=\"popup__container\" name=\"popup-window\" onSubmit={props.onSubmit} noValidate>\r\n                <h3 className=\"popup__title\">{props.title}</h3>\r\n                {props.children}\r\n                <button className=\"popup__button-create\">{props.titleButton}</button>\r\n                <button className=\"popup__button-close\" type=\"button\" onClick={props.onClose}></button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать\" titleButton=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <label className=\"popup__field\">\r\n                <input type=\"text\" value={name || ''} onChange={handleChangeName} className=\"popup__input popup__input_first\" id=\"name-input\" placeholder=\"Имя\" name=\"name\"\r\n                    required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"popup__input-error\" id=\"name-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input type=\"text\" value={description || ''} onChange={handleChangeDescription} className=\"popup__input popup__input_second\" id=\"job-input\" placeholder=\"О себе\"\r\n                    name=\"about\" required minLength=\"2\" maxLength=\"200\" />\r\n                <span className=\"popup__input-error\" id=\"job-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const inputRef = React.useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            \r\n            link: inputRef.current.value,\r\n        });\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" titleButton=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <label className=\"popup__field\">\r\n                <input type=\"url\" className=\"popup__input popup__input_second\" id=\"url-input\"\r\n                    placeholder=\"Ссылка на картинку\" name=\"link\" ref={inputRef} required />\r\n                <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const inputNameRef = React.useRef();\r\n    const inputLinkRef = React.useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: inputNameRef.current.value,\r\n            link: inputLinkRef.current.value\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm name=\"add\" title=\"Новое место\" titleButton=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <label className=\"popup__field\">\r\n                <input type=\"text\" className=\"popup__input popup__input_first\" id=\"title-input\" placeholder=\"Название\"\r\n                    name=\"name\" ref={inputNameRef} required minLength=\"1\" maxLength=\"30\" />\r\n                <span className=\"popup__input-error\" id=\"title-input-error\"></span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input type=\"url\" className=\"popup__input popup__input_second\" id=\"url-input\"\r\n                    placeholder=\"Ссылка на картинку\" name=\"link\" ref={inputLinkRef} required />\r\n                <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return(\r\n        <div className={`popup ${props.card && 'popup_opened'}`} id=\"popup-image\">\r\n            <div className=\"popup__container-image\">\r\n                <p className=\"popup__image-title\">{props.card ? props.card.name : ''}</p>\r\n                <img className=\"popup__image\" src={props.card ? props.card.link : ''} alt=\"Изображение\" />\r\n                <button className=\"popup__button-close popup__button-close_theme_image\" onClick={props.onClose} type=\"button\"></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\nimport { api } from '../utils/Api.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getProfileData()\n      .then((result) => {\n        setCurrentUser(result);\n      }).catch((err) => {\n        console.log(err)\n      })\n\n    api.getCardsData()\n      .then((result) => {\n        setCards(result)\n      }).catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(dataCard) {\n    setSelectedCard(dataCard);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.toggleLikeCard(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleUpdateUser(data) {\n    api.sendProfileData(data)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      }).catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.sendCardData(data)\n    .then((newCard) => {\n      setCards([...cards, newCard]);\n      closeAllPopups();\n    }).catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard(undefined);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" titleButton=\"Да\"></PopupWithForm>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/Mesto.c6f11019.svg\";"],"sourceRoot":""}